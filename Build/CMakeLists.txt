CMAKE_MINIMUM_REQUIRED(VERSION 3.5)
PROJECT(GEM_Performance)

SET(PROJECT_DIR ${PROJECT_SOURCE_DIR}/..)

LIST(APPEND CMAKE_PREFIX_PATH $ENV{ROOTSYS})
FIND_PACKAGE(ROOT)
INCLUDE(${ROOT_USE_FILE})

INCLUDE_DIRECTORIES(${PROJECT_DIR}/Include)

SET(INCLUDE_DIR ${PROJECT_DIR}/Include)
SET(SRC_DIR ${PROJECT_DIR}/Src)

ROOT_GENERATE_DICTIONARY(G__GEM_Performance Charging_Up.h Gain.h Rate_Capability.h Read_MCA_Data.h Read_RO.h LINKDEF ${INCLUDE_DIR}/GEM_Performance_LinkDef.h)

ADD_COMPILE_OPTIONS(-std=c++11)

ADD_LIBRARY(GEM_Performance SHARED ${SRC_DIR}/Charging_Up.C ${SRC_DIR}/Gain.C ${SRC_DIR}/Rate_Capability.C ${SRC_DIR}/Read_MCA_Data.C ${SRC_DIR}/Read_RO.C G__GEM_Performance.cxx)
TARGET_LINK_LIBRARIES(GEM_Performance ${ROOT_LIBRARIES})
